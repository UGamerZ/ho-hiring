import{r as l,b as v,u as F,j as i,B as $,a as A,F as w,c as E,I as j,T as H,d as y,e as S,s as P,X,f as D,g as q,R as a,h as K}from"./index-6ksMPCFp.js";const V=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m-3.9-1.55a.75.75 0 1 0-1.2-.9L7.419 8.858 6.03 7.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.13-.08z",clipRule:"evenodd"})),G=V,U=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14m3.1-8.55a.75.75 0 1 0-1.2-.9L7.419 8.858 6.03 7.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.13-.08z",clipRule:"evenodd"})),Z=U,J=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14m1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-.25 3a.75.75 0 0 0-1.5 0V11a.75.75 0 0 0 1.5 0z",clipRule:"evenodd"})),Q=J,W=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14m1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0M8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75",clipRule:"evenodd"})),Y=W,ee=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0M6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94z",clipRule:"evenodd"})),te=ee,ne=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14M6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94z",clipRule:"evenodd"})),le=ne,oe=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m7.836 6 .76-2.027L9.336 2H5.5a.72.72 0 0 0-.664.45L2.513 8.257a.177.177 0 0 0 .164.243h4.965l-.732 2.013-1.082 2.975a.382.382 0 0 0 .637.392l6.956-7.391A.29.29 0 0 0 13.21 6H7.835m2.727-3 .235-.627A1.386 1.386 0 0 0 9.5.5h-4c-.906 0-1.72.552-2.057 1.393L1.12 7.7A1.677 1.677 0 0 0 2.677 10H5.5l-.545 1.5-.537 1.475a1.882 1.882 0 0 0 3.14 1.933l6.956-7.391A1.79 1.79 0 0 0 13.21 4.5H10z",clipRule:"evenodd"})),ie=oe,se=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",d:"m14.61 6.914-7.632 8.08a1.614 1.614 0 0 1-2.69-1.66L5.5 10H2.677A1.677 1.677 0 0 1 1.12 7.7l2.323-5.807A2.22 2.22 0 0 1 5.5.5h4c.968 0 1.637.967 1.298 1.873L10 4.5h3.569a1.431 1.431 0 0 1 1.04 2.414"})),ce=se,ae=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.835 2.244c.963-1.665 3.367-1.665 4.33 0l4.916 8.505c.964 1.666-.24 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.165-3.751zM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5m1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0",clipRule:"evenodd"})),re=ae;v("col");v("row");v("container");const de=v("card"),ue=l.forwardRef(function(t,o){const{type:s="container",theme:n,view:c,size:u="m",children:m,className:r,onClick:h,disabled:p,selected:L,..._}=t,N=s==="action",x=s==="selection",C=s==="container",f=(N||x)&&!!h&&!p,I=C?"normal":void 0,M=C||x?"outlined":void 0,B=f?h:void 0,{onKeyDown:O}=F(h);return i.jsx($,{ref:o,role:f?"button":void 0,className:de({theme:n||I,view:c||M,type:s,selected:L,size:u,disabled:p,clickable:f},r),onClick:B,onKeyDown:f?O:void 0,tabIndex:f?0:void 0,..._,children:m})}),T=l.createContext(null),R=()=>{const e=l.useContext(T);if(!e)throw new Error('Alert: `useAlertContext` hook is used out of "AlertContext"');return e},k=e=>{const{view:t}=R();return i.jsx(A,{view:t==="filled"?"normal-contrast":void 0,...e})},z=18,g=v("alert"),he=({items:e,children:t,className:o})=>{const{layout:s}=R();return i.jsx(w,{className:g("actions",{minContent:s==="horizontal"},o),direction:"row",gap:"3",wrap:!0,alignItems:s==="horizontal"?"center":"flex-start",children:(e==null?void 0:e.map(({handler:n,text:c},u)=>i.jsx(k,{onClick:n,children:c},u)))||t})},ge=({layout:e,view:t,children:o})=>i.jsx(T.Provider,{value:{layout:e,view:t},children:o}),me={danger:{filled:le,outlined:te},info:{filled:Y,outlined:Q},success:{filled:Z,outlined:G},warning:{filled:re,outlined:H},utility:{filled:ce,outlined:ie},normal:null},fe=({className:e,theme:t,view:o="filled",size:s=z})=>{const n=me[t];if(!n)return null;let c;return t==="success"?c="positive":t!=="normal"&&(c=t),i.jsx("div",{className:g("icon",E({color:c},e)),children:i.jsx(j,{data:n[o],size:s})})},we=({text:e,className:t})=>i.jsx(y,{variant:"subheader-2",className:g("title",t),children:e}),ve="Close",pe={label_close:ve},xe="Закрыть",Ce={label_close:xe},be="Alert",Ae=S({en:pe,ru:Ce},be),d=e=>{const{theme:t="normal",view:o="filled",layout:s="vertical",message:n,className:c,corners:u,style:m,onClose:r,align:h,qa:p}=e;return i.jsx(ge,{layout:s,view:o,children:i.jsx(ue,{style:m,className:g({corners:u},P({py:4,px:5},c)),theme:t,view:o,qa:p,children:i.jsxs(w,{gap:"3",alignItems:h,children:[typeof e.icon>"u"?i.jsx(d.Icon,{theme:t,view:o}):e.icon,i.jsxs(w,{direction:s==="vertical"?"column":"row",gap:"5",grow:!0,children:[i.jsx(w,{gap:"2",grow:!0,className:g("text-content"),children:i.jsxs(w,{direction:"column",gap:"1",grow:!0,justifyContent:h,children:[typeof e.title=="string"?i.jsx(d.Title,{text:e.title}):e.title,n]})}),Array.isArray(e.actions)?i.jsx(d.Actions,{items:e.actions}):e.actions]}),r&&i.jsx(A,{view:"flat",className:g("close-btn"),onClick:r,"aria-label":Ae("label_close"),children:i.jsx(j,{data:X,size:z,className:E({color:"secondary"})})})]})})})};d.Icon=fe;d.Title=we;d.Actions=he;d.Action=k;const Ee="g-root",je=({alert:e})=>{const t=a.useRef(null),o=a.useCallback(n=>{const c=document.getElementsByClassName(Ee).item(0);c==null||c.style.setProperty("--gn-top-alert-height",n+"px")},[]),s=a.useCallback(()=>{var n;o(((n=t.current)===null||n===void 0?void 0:n.clientHeight)||0)},[o]);return a.useLayoutEffect(()=>{const n=K(s,200,{leading:!0});return e&&(window.addEventListener("resize",n),n()),()=>{window.removeEventListener("resize",n),o(0)}},[e,t,s,o]),{alertRef:t,updateTopSize:s}};var ye='.g-root{--gn-top-alert-height:0px}.gn-top-alert_centered{display:flex;justify-content:space-around}.gn-top-alert_dense{padding-bottom:var(--g-spacing-2);padding-top:var(--g-spacing-2)}.gn-top-alert__wrapper_with-bottom-border:after{background-color:var(--gn-aside-header-divider-horizontal-color,var(--_--horizontal-divider-line-color));content:"";display:block;height:1px;margin-top:-1px}';D(ye);const b=q("top-alert"),ke=({alert:e,className:t,mobileView:o=!1})=>{const{alertRef:s,updateTopSize:n}=je({alert:e}),[c,u]=a.useState(!0),m=a.useCallback(()=>{var r;u(!1),(r=e==null?void 0:e.onCloseTopAlert)===null||r===void 0||r.call(e)},[e]);return a.useEffect(()=>{c||n()},[c,n]),!e||!e.message?null:a.createElement("div",{ref:s,className:b("wrapper",{"with-bottom-border":!o&&c},t)},c&&a.createElement(d,{className:b("",{centered:e.centered,dense:e.dense}),corners:"square",layout:"horizontal",align:e.align,theme:e.theme||"warning",view:e.view,icon:e.icon,title:e.title,message:o?a.createElement(y,{ellipsisLines:5,variant:"body-2"},e.message):e.message,actions:e.actions,onClose:e.closable?m:void 0}))};export{ke as TopAlert};
